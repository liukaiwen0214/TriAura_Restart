<template>
  <header class="nav">
    <div class="left">
      <div class="logo">TRIAURA</div>

      <nav class="menus">
        <div class="group">
          <!-- å¤–å±‚ï¼šä¸¤è¡Œ -->
          <div class="groupMain">
            <span class="title">ç”Ÿæ´»</span>
            <span class="sub">è®°å½•ç¾å¥½ç”Ÿæ´»</span>
          </div>

          <!-- å†…å±‚ï¼šä¸‹æ‹‰ -->
          <div class="dropdown">
            <a
              class="ddItem"
              href="javascript:void(0)"
              @click.prevent="noop('life.manage')"
            >
              <i class="pi pi-book ddIcon"></i>
              <div class="ddText">
                <div class="ddTitle">ç”Ÿæ´»ç®¡ç†</div>
                <div class="ddDesc">æ—¥è®°ã€ä¹ æƒ¯ã€ç¢ç‰‡è®°å½•</div>
              </div>
            </a>

            <a
              class="ddItem"
              href="javascript:void(0)"
              @click.prevent="noop('life.finance')"
            >
              <i class="pi pi-wallet ddIcon"></i>
              <div class="ddText">
                <div class="ddTitle">è´¢åŠ¡ç®¡ç†</div>
                <div class="ddDesc">æ”¶æ”¯ã€é¢„ç®—ã€èµ„äº§æ¦‚è§ˆ</div>
              </div>
            </a>

            <a
              class="ddItem"
              href="javascript:void(0)"
              @click.prevent="noop('life.more')"
            >
              <i class="pi pi-ellipsis-h ddIcon"></i>
              <div class="ddText">
                <div class="ddTitle">æ›´å¤š</div>
                <div class="ddDesc">æŠŠå¸¸ç”¨å…¥å£éƒ½æ”¾è¿™</div>
              </div>
            </a>
          </div>
        </div>
        <div class="group">
          <!-- å¤–å±‚ï¼šä¸¤è¡Œ -->
          <div class="groupMain">
            <span class="title">å·¥ä½œ</span>
            <span class="sub">æ²¡æœ‰å¥½ä¸œè¥¿</span>
          </div>

          <!-- å†…å±‚ï¼šä¸‹æ‹‰ -->
          <div class="dropdown">
            <a
              class="ddItem"
              href="javascript:void(0)"
              @click.prevent="noop('work.project')"
            >
              <i class="pi pi-sitemap ddIcon"></i>
              <div class="ddText">
                <div class="ddTitle">é¡¹ç›®</div>
                <div class="ddDesc">è®¡åˆ’ã€è¿›åº¦ã€é‡Œç¨‹ç¢‘</div>
              </div>
            </a>

            <a
              class="ddItem"
              href="javascript:void(0)"
              @click.prevent="noop('work.files')"
            >
              <i class="pi pi-folder-open ddIcon"></i>
              <div class="ddText">
                <div class="ddTitle">é™„ä»¶</div>
                <div class="ddDesc">æ–‡æ¡£ã€èµ„æ–™ã€å½’æ¡£</div>
              </div>
            </a>

            <a
              class="ddItem"
              href="javascript:void(0)"
              @click.prevent="noop('work.notes')"
            >
              <i class="pi pi-file-edit ddIcon"></i>
              <div class="ddText">
                <div class="ddTitle">ç¬”è®°</div>
                <div class="ddDesc">çµæ„Ÿã€ä¼šè®®ã€å¤‡å¿˜</div>
              </div>
            </a>

            <a
              class="ddItem"
              href="javascript:void(0)"
              @click.prevent="noop('work.more')"
            >
              <i class="pi pi-ellipsis-h ddIcon"></i>
              <div class="ddText">
                <div class="ddTitle">æ›´å¤š</div>
                <div class="ddDesc">æŠŠå¸¸ç”¨å…¥å£éƒ½æ”¾è¿™</div>
              </div>
            </a>
          </div>
        </div>
        <div class="group">
          <!-- å¤–å±‚ï¼šä¸¤è¡Œ -->
          <div class="groupMain">
            <span class="title">æ¸¸æˆ</span>
            <span class="sub">ç”Ÿæ´»å†æƒ¨ä¹Ÿæ˜¯éœ€è¦å¿«ä¹</span>
          </div>

          <!-- å†…å±‚ï¼šä¸‹æ‹‰ -->
          <div class="dropdown">
            <a
              class="ddItem"
              href="javascript:void(0)"
              @click.prevent="noop('game.delta')"
            >
              <i class="pi pi-bolt ddIcon"></i>
              <div class="ddText">
                <div class="ddTitle">ä¸‰è§’æ´²</div>
                <div class="ddDesc">æˆ˜ç»©ã€é…ç½®ã€é˜Ÿå‹</div>
              </div>
            </a>

            <a
              class="ddItem"
              href="javascript:void(0)"
              @click.prevent="noop('game.onmyoji')"
            >
              <i class="pi pi-star ddIcon"></i>
              <div class="ddText">
                <div class="ddTitle">é˜´é˜³å¸ˆ</div>
                <div class="ddDesc">å¾¡é­‚ã€é˜µå®¹ã€æ¯æ—¥</div>
              </div>
            </a>

            <a
              class="ddItem"
              href="javascript:void(0)"
              @click.prevent="noop('game.stats')"
            >
              <i class="pi pi-chart-line ddIcon"></i>
              <div class="ddText">
                <div class="ddTitle">æ•°æ®</div>
                <div class="ddDesc">æŠ•å…¥æ—¶é—´ã€å¿«ä¹æŒ‡æ•°</div>
              </div>
            </a>

            <a
              class="ddItem"
              href="javascript:void(0)"
              @click.prevent="noop('game.more')"
            >
              <i class="pi pi-ellipsis-h ddIcon"></i>
              <div class="ddText">
                <div class="ddTitle">å…¶ä»–</div>
                <div class="ddDesc">å¶å°”æ¢ä¸ªä¸–ç•Œ</div>
              </div>
            </a>
          </div>
        </div>
        <div class="group">
          <!-- å¤–å±‚ï¼šä¸¤è¡Œ -->
          <div class="groupMain">
            <span class="title">å¨æˆ¿</span>
            <span class="sub">çŒ›çŒ›å¾—åƒ</span>
          </div>

          <!-- å†…å±‚ï¼šä¸‹æ‹‰ -->
          <div class="dropdown">
            <a
              class="ddItem"
              href="javascript:void(0)"
              @click.prevent="noop('kitchen.inventory')"
            >
              <i class="pi pi-box ddIcon"></i>
              <div class="ddText">
                <div class="ddTitle">åº“å­˜</div>
                <div class="ddDesc">å‰©ä½™ã€åˆ°æœŸã€æé†’</div>
              </div>
            </a>

            <a
              class="ddItem"
              href="javascript:void(0)"
              @click.prevent="noop('kitchen.ingredients')"
            >
              <i class="pi pi-tags ddIcon"></i>
              <div class="ddText">
                <div class="ddTitle">é£Ÿæ</div>
                <div class="ddDesc">åˆ†ç±»ã€æ‰¹æ¬¡ã€å•ä½</div>
              </div>
            </a>

            <a
              class="ddItem"
              href="javascript:void(0)"
              @click.prevent="noop('kitchen.recipes')"
            >
              <i class="pi pi-bookmark ddIcon"></i>
              <div class="ddText">
                <div class="ddTitle">é£Ÿè°±</div>
                <div class="ddDesc">æ”¶è—ã€åšè¿‡ã€æƒ³åš</div>
              </div>
            </a>

            <a
              class="ddItem"
              href="javascript:void(0)"
              @click.prevent="noop('kitchen.more')"
            >
              <i class="pi pi-ellipsis-h ddIcon"></i>
              <div class="ddText">
                <div class="ddTitle">æ›´å¤š</div>
                <div class="ddDesc">é‡‡è´­ã€æ¸…å•ã€ç»Ÿè®¡</div>
              </div>
            </a>
          </div>
        </div>
      </nav>
    </div>
    <div class="right">
      <!-- âœ… æ¶ˆæ¯ï¼šhover å°æ°”æ³¡ -->
      <div
        class="notifyWrap"
        @mouseenter="openNotify()"
        @mouseleave="closeNotify()"
      >
        <button class="iconBtn" title="æ¶ˆæ¯">
          <i class="pi pi-bell"></i>

          <!-- å¯é€‰ï¼šæœªè¯»å°ç‚¹ï¼ˆæœ‰æœªè¯»å°±æ˜¾ç¤ºï¼‰ -->
          <span v-if="hasUnread" class="dot" aria-hidden="true"></span>
        </button>
        <Transition name="pop" appear>
          <div class="notifyPanel" v-if="notifyOpen">
            <div class="notifyHead">
              <div class="notifyTitle">æ¶ˆæ¯</div>
              <div class="notifyCount">{{ visibleNotifs.length }} æ¡</div>
            </div>

            <div class="notifyList">
              <a
                v-for="n in visibleNotifs"
                :key="n.id"
                class="notifyItem"
                href="javascript:void(0)"
                @click.prevent="noop('notify:' + n.id)"
              >
                <div class="notifyTop">
                  <div class="notifyItemTitle" :class="{ unread: n.unread }">
                    {{ n.title }}
                  </div>

                  <!-- âœ… tagï¼šå³ä¸Šè§’ï¼Œæ·¡ä¸€ç‚¹ï¼Œä¸æŠ¢è§†çº¿ -->
                  <span v-if="n.tag" class="notifyTag">{{ n.tag }}</span>
                </div>
                <div class="notifyMeta" v-if="n.content || n.time">
                  <!-- âœ… hover çœ‹å…¨æ–‡ï¼šç”¨ title æœ€ç¨³ï¼Œä¸å½±å“ click/noop -->
                  <div
                    v-if="n.content"
                    class="notifyContent"
                    :title="n.content"
                  >
                    {{ n.content }}
                  </div>

                  <div v-if="n.time" class="notifyTime">
                    {{ n.time }}
                  </div>
                </div>
              </a>
            </div>

            <div class="notifyFoot">
              <button class="notifyMore" type="button" @click="viewMore">
                æŸ¥çœ‹æ›´å¤š
              </button>
            </div>
          </div>
        </Transition>
      </div>
      <button class="iconBtn" title="ä»»åŠ¡">
        <i class="pi pi-check-square"></i>
      </button>

      <div class="avatar" title="ä¸ªäººä¿¡æ¯">K</div>
    </div>
    <div class="navLine" aria-hidden="true"></div>
  </header>

  <!-- å ä½ï¼šé¿å… fixed é¡¶æ å‹ä½å†…å®¹ -->
  <div class="navSpacer"></div>
</template>

<script setup lang="ts">
import { computed, ref } from "vue";
import { useToast } from "primevue/usetoast";

const toast = useToast();

// ä½ ä¹‹å‰çš„å ä½ç‚¹å‡»å‡½æ•°ï¼ˆä¿ç•™ï¼‰
function noop(key: string) {
  console.log("[nav-click]", key);
}

/** âœ… æ¶ˆæ¯æ•°æ®ç»“æ„ï¼ˆåç«¯ä»¥åæŒ‰è¿™ä¸ªåç»™ä½ å³å¯ï¼‰ */
type Notif = {
  id: string;
  title: string;
  content?: string;
  tag?: string; // æ—¥è®°/å¨æˆ¿/é˜´é˜³å¸ˆ/ä¸‰è§’æ´²â€¦ åç«¯ä¼ å•¥æ˜¾ç¤ºå•¥
  time?: string; // å»ºè®®åç«¯ç›´æ¥ä¼ å¯å±•ç¤ºæ–‡æœ¬
  unread?: boolean;
};

/** âœ… æš‚æ—¶ mock 5+ æ¡ï¼Œé¢æ¿åªæ˜¾ç¤º 5 æ¡ */
const notifications = ref<Notif[]>([
  {
    id: "n1",
    title: "ä»Šå¤©çš„æ—¥è®°è¿˜æ²¡å†™å®Œ",
    content: "ä½ å·²ç»è¿ç»­è®°å½• 3 å¤©äº†ï¼Œå†å†™ä¸€å¥å°±å®Œç¾ã€‚",
    tag: "æ—¥è®°",
    time: "åˆšåˆš",
    unread: true,
  },
  {
    id: "n2",
    title: "å¨æˆ¿åº“å­˜ï¼šç‰›å¥¶å¿«åˆ°æœŸ",
    content: "å»ºè®® 2 å¤©å†…ç”¨æ‰ï¼Œåšä¸ªæ‹¿é“ä¹Ÿè¡Œã€‚",
    tag: "å¨æˆ¿",
    time: "10 åˆ†é’Ÿå‰",
    unread: true,
  },
  {
    id: "n3",
    title: "é˜´é˜³å¸ˆï¼šä½“åŠ›æº¢å‡ºäº†",
    content: "åˆ«æµªè´¹å•¦ï¼Œåˆ·ä¸€æŠŠè§‰é†’ææ–™ã€‚",
    tag: "é˜´é˜³å¸ˆ",
    time: "1 å°æ—¶å‰",
    unread: false,
  },
  {
    id: "n4",
    title: "ä¸‰è§’æ´²ï¼šä»Šæ™šç»„é˜Ÿå—",
    content: "è€åœ°æ–¹é›†åˆï¼Œå¸¦ä¸Šæ¶ˆéŸ³ã€‚",
    tag: "ä¸‰è§’æ´²",
    time: "æ˜¨å¤©",
    unread: false,
  },
  {
    id: "n5",
    title: "è´¢åŠ¡ï¼šæœ¬å‘¨æ”¯å‡ºæœ‰ç‚¹å¤š",
    content: "å¤–å– + å¥¶èŒ¶å æ¯”æœ€é«˜ï¼ˆæ‡‚ä½ ğŸ˜Œï¼‰ã€‚",
    tag: "è´¢åŠ¡",
    time: "2 å¤©å‰",
    unread: false,
  },
  {
    id: "n6",
    title: "å·¥ä½œï¼šé¡¹ç›®æœ‰ 1 ä¸ªå¾…åŠ",
    content: "æŠŠæ¥å£ error code å¯¹é½ä¸€ä¸‹ã€‚",
    tag: "å·¥ä½œ",
    time: "3 å¤©å‰",
    unread: false,
  },
]);

const visibleNotifs = computed(() => notifications.value.slice(0, 5));
const hasUnread = computed(() => notifications.value.some((x) => x.unread));

/** âœ… hover å±•å¼€/æ”¶èµ·ï¼šåŠ ä¸€ç‚¹ç‚¹å»¶è¿Ÿï¼Œæ‰‹æ„Ÿæ›´æŸ”å’Œ */
const notifyOpen = ref(false);
let closeTimer: number | null = null;

function openNotify() {
  if (closeTimer) {
    window.clearTimeout(closeTimer);
    closeTimer = null;
  }
  notifyOpen.value = true;
}

function closeNotify() {
  // å°å»¶è¿Ÿé¿å…é¼ æ ‡è¾¹ç¼˜æŠ–åŠ¨å°±å…³æ‰
  if (closeTimer) window.clearTimeout(closeTimer);
  closeTimer = window.setTimeout(() => {
    notifyOpen.value = false;
  }, 120); // 120ms å¤ŸæŸ”ï¼Œä¸ä¼šå¡
}

function viewMore() {
  toast.add({
    severity: "info",
    summary: "æç¤º",
    detail: "åŠŸèƒ½æš‚ä¸æ”¯æŒ",
    life: 1800,
  });
}
</script>

<style scoped>
/* é¡¶æ ç»ç’ƒ */
.nav {
  position: fixed;
  top: 14px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 1000;

  width: min(1100px, calc(100% - 48px));
  height: 54px;
  border-radius: 9px;
  overflow: visible;

  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 0 14px;
  -webkit-backdrop-filter: blur(18px) saturate(160%);
  transition:
    opacity 0.18s ease,
    background-color 0.18s ease,
    border-color 0.18s ease,
    box-shadow 0.18s ease,
    backdrop-filter 0.18s ease;
}
.navLine {
  position: absolute;
  left: 1px;
  right: 1px; /* âœ… çº¿æ›´é•¿ï¼šæƒ³æ›´é•¿å°±æ”¹æˆ 10px / 8px */
  bottom: 0;
  height: 1px;
  pointer-events: none;

  background: linear-gradient(
    90deg,
    rgba(15, 23, 42, 0),
    rgba(15, 23, 42, 0.1) 18%,
    rgba(15, 23, 42, 0.18) 50%,
    rgba(15, 23, 42, 0.1) 82%,
    rgba(15, 23, 42, 0)
  );
  opacity: 0.9;
  z-index: 3;
}
/* å ä½é«˜åº¦ï¼š54 + top 14 + é¢å¤–é—´è· */
.navSpacer {
  height: 84px;
}

/* å†…å®¹å¸ƒå±€ */
.left {
  display: flex;
  align-items: center;
  gap: 14px;
}
.logo {
  font-weight: 900;
  letter-spacing: 0.8px;
  font-size: 14px;
  color: #0b1220;
  user-select: none;
}
.menus {
  display: flex;
  overflow: visible;
  align-items: center;
  gap: 10px;
}
.group {
  position: relative;
}
/* âœ… hover æ¡¥ï¼šè®©é¼ æ ‡ä» groupMain ç§»åˆ° dropdown æ—¶ä¸æ‰ hover */
.group::after {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  top: 100%;
  height: 14px; /* è¿™ä¸ªå°±æ˜¯é€šé“é«˜åº¦ */
}
.groupMain {
  display: flex;
  flex-direction: column;
  gap: 2px;
  padding: 6px 10px;
  border-radius: 9px;
  cursor: pointer;
  align-items: center; /* âœ… ä¸¤è¡Œå±…ä¸­ */
  text-align: center; /* âœ… æ–‡æœ¬å±…ä¸­ */
  transition: background 0.15s ease;
}
.group:hover .groupMain {
  background: rgba(15, 23, 42, 0.06);
}
.dropdown {
  position: absolute;
  left: 50%;
  top: 100%;
  transform: translateX(-50%) translateY(-6px);
  opacity: 0;
  pointer-events: none;

  min-width: 190px;
  padding: 10px;
  border-radius: 14px;
  z-index: 2000;

  /* âœ… ç»ç’ƒï¼šç”¨â€œä½ä¸é€æ˜åº¦ç™½â€è®©èƒŒæ™¯æ¸å˜é€å‡ºæ¥ï¼Œè€Œä¸æ˜¯ç…ç™½ */
  background: rgba(255, 255, 255, 0.42);

  /* âœ… å¾ˆæµ…çš„è¾¹ç•Œï¼Œè®©å®ƒä»èƒŒæ™¯é‡Œâ€œåˆ†ç¦»â€å‡ºæ¥ä¸€ç‚¹ç‚¹ */
  border: 1px solid rgba(255, 255, 255, 0.35);

  /* âœ… è½»è½»çš„é˜´å½± + å†…é«˜å…‰ï¼Œå¢åŠ å±‚æ¬¡ä½†ä¸ç¡¬ */
  box-shadow:
    0 22px 55px rgba(15, 23, 42, 0.1),
    0 1px 0 rgba(255, 255, 255, 0.55) inset;

  /* âœ… æ¨¡ç³Š + é¥±å’Œåº¦ï¼šç»ç’ƒæ„Ÿæ ¸å¿ƒ */
  backdrop-filter: blur(18px) saturate(160%);
  -webkit-backdrop-filter: blur(18px) saturate(160%);

  transition:
    opacity 0.16s ease,
    transform 0.16s ease;
}
.group:hover .dropdown {
  opacity: 1;
  transform: translateX(-50%) translateY(8px); /* âœ… è§†è§‰å¾€ä¸‹è½ä¸€ç‚¹ï¼Œä½†ä¸ç•™ç©ºéš™ */
  pointer-events: auto;
}

/* å†…å±‚ itemï¼šä¸€è¡Œä¸€ä¸ª */
.ddItem {
  display: grid;
  grid-template-columns: 34px 1fr;
  gap: 10px;
  align-items: center;

  padding: 10px 12px;
  border-radius: 12px;
  text-decoration: none;

  color: #0b1220;
  background: rgba(255, 255, 255, 0); /* é»˜è®¤é€æ˜ï¼Œhover å†ç»™é«˜å…‰ */
  transition:
    background 0.15s ease,
    transform 0.15s ease;
}
.ddIcon {
  width: 34px;
  height: 34px;
  border-radius: 10px;

  display: flex;
  align-items: center;
  justify-content: center;

  font-size: 15px;
  color: rgba(15, 23, 42, 0.72);

  background: rgba(15, 23, 42, 0.06);
  border: 1px solid rgba(255, 255, 255, 0.35);
}
.ddItem:hover {
  background: rgba(15, 23, 42, 0.06);
  transform: translateY(-1px);
}
.ddText {
  display: flex;
  flex-direction: column;
  gap: 2px;
  min-width: 0;
}

.ddTitle {
  font-size: 13px;
  font-weight: 800;
  line-height: 1.2;
}

.ddDesc {
  font-size: 12px;
  color: rgba(100, 116, 139, 0.95);
  line-height: 1.2;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.ddItem:hover {
  background: rgba(15, 23, 42, 0.06);
  transform: translateY(-1px);
}

/* hover æ—¶ icon æ›´äº®ä¸€ç‚¹ç‚¹ */
.ddItem:hover .ddIcon {
  background: rgba(15, 23, 42, 0.08);
  color: rgba(15, 23, 42, 0.85);
}
.title {
  font-size: 12px;
  font-weight: 700;
  color: #0b1220;
}
.sub {
  font-size: 11px;
  color: #64748b;
}

/* å³ä¾§ */
.right {
  display: flex;
  align-items: center;
  gap: 10px;
}
.iconBtn {
  width: 36px;
  height: 36px;
  border-radius: 9px;
  border: 1px solid rgba(15, 23, 42, 0.1);
  background: rgba(255, 255, 255, 0.55);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition:
    background 0.15s ease,
    transform 0.15s ease;
}
.iconBtn:hover {
  background: rgba(255, 255, 255, 0.75);
  transform: translateY(-1px);
}
/* ========== Notify Popover ========== */
.notifyWrap {
  position: relative;
  display: flex;
  align-items: center;
}

.iconBtn {
  position: relative; /* ä¸ºæœªè¯»ç‚¹å®šä½ */
}

.dot {
  position: absolute;
  right: 8px;
  top: 8px;
  width: 7px;
  height: 7px;
  border-radius: 999px;
  background: rgba(239, 68, 68, 0.95);
  box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.7);
}

/* é¢æ¿ï¼šç»ç’ƒã€åŠé€æ˜ã€åƒèƒŒæ™¯ */
.notifyPanel {
  position: absolute;
  top: calc(100% + 10px);
  left: 50%;
  transform: translateX(-50%);
  /* âœ… å¦‚æœä½ è¿˜æƒ³åŠ ä¸€ç‚¹â€œè½ä¸‹æ¥çš„æ„Ÿè§‰â€ï¼Œç”¨è¿™ä¸€è¡Œæ›¿æ¢ä¸Šé¢ transformï¼š
     transform: translateX(-50%) translateY(2px);
  */

  width: 320px;
  border-radius: 12px;
  padding: 10px;
  z-index: 3000;

  background: rgba(255, 255, 255, 0.62);
  border: 1px solid rgba(255, 255, 255, 0.55);
  box-shadow: 0 18px 40px rgba(15, 23, 42, 0.12);
  backdrop-filter: blur(18px) saturate(160%);
  -webkit-backdrop-filter: blur(18px) saturate(160%);
}

/* å¤´éƒ¨ */
.notifyHead {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 4px 6px 8px 6px;
}
.notifyTitle {
  font-size: 13px;
  font-weight: 800;
  color: #0b1220;
}
.notifyCount {
  font-size: 12px;
  color: #64748b;
}

/* åˆ—è¡¨ */
.notifyList {
  display: grid;
  gap: 6px;
  padding: 2px;
}

.notifyItem {
  display: block;
  text-decoration: none;
  border-radius: 10px;
  padding: 10px 10px;
  color: inherit;
  transition:
    background 0.15s ease,
    transform 0.15s ease;
  background: rgba(255, 255, 255, 0.3);
  border: 1px solid rgba(15, 23, 42, 0.06);
}
.notifyItem:hover {
  background: rgba(255, 255, 255, 0.5);
  transform: translateY(-1px);
}

.notifyTop {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 10px;
}

.notifyItemTitle {
  font-size: 13px;
  font-weight: 800;
  color: #0b1220;
  line-height: 1.2;
}
.notifyItemTitle.unread {
  /* æœªè¯»ç¨å¾®æ›´å¼ºè°ƒä¸€ç‚¹ç‚¹å³å¯ */
  text-shadow: 0 0 0 rgba(0, 0, 0, 0);
}
.notifyMeta{
  margin-top: 6px;
  display: flex;
  align-items: baseline;
  gap: 10px;
}

/* âœ… tagï¼šå³ä¸Šè§’ï¼Œå°ã€æ·¡ã€ä¸æŠ¢æ ‡é¢˜ */
.notifyTag {
  font-size: 11px;
  font-weight: 700;
  color: rgba(15, 23, 42, 0.45);
  background: rgba(255, 255, 255, 0.35);
  border: 1px solid rgba(15, 23, 42, 0.06);
  padding: 2px 8px;
  border-radius: 999px;
  white-space: nowrap;
  flex: 0 0 auto;
}

.notifyContent {
  flex: 1;
  min-width: 0;              /* å…³é”®ï¼šå…è®¸ ellipsis ç”Ÿæ•ˆ */
  font-size: 13px;
  line-height: 1.3;
  color: rgba(15, 23, 42, 0.74); /* æ¯”æ ‡é¢˜æ·¡ä¸€ç‚¹ï¼Œè½»è–„ */
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.notifyTime {
  margin-top: 6px;
  font-size: 11px;
  color: #94a3b8;
}

/* åº•éƒ¨ */
.notifyFoot {
  margin-top: 8px;
  padding-top: 8px;
  border-top: 1px solid rgba(15, 23, 42, 0.06);
  display: flex;
  justify-content: center;
}
.notifyMore {
  border: none;
  background: transparent;
  cursor: pointer;
  font-size: 12px;
  font-weight: 800;
  color: #0b1220;
  padding: 8px 10px;
  border-radius: 9px;
  transition: background 0.15s ease;
}
.notifyMore:hover {
  background: rgba(15, 23, 42, 0.06);
}
/* é¢æ¿å‡ºç°/æ¶ˆå¤±ï¼šæŸ”å’Œä¸€ç‚¹ */
.pop-enter-active,
.pop-leave-active {
  transition:
    opacity 0.16s ease,
    transform 0.16s ease,
    filter 0.16s ease;
  will-change: opacity, transform, filter;
}

.pop-enter-from,
.pop-leave-to {
  opacity: 0;
  transform: translateX(-50%) translateY(-6px) scale(0.98);
  filter: blur(6px);
}

.pop-enter-to,
.pop-leave-from {
  opacity: 1;
  transform: translateX(-50%) translateY(0) scale(1);
  filter: blur(0);
}
.avatar {
  width: 36px;
  height: 36px;
  border-radius: 9px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 800;
  color: #0b1220;
  border: 1px solid rgba(15, 23, 42, 0.1);
  background: rgba(255, 255, 255, 0.55);
}
</style>
